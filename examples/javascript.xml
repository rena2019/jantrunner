<project name="JavaScript" default="js.default">

<target name="js.simpletest1">
 <script language="javascript">
   self.log("java script test #1");
 </script>
</target>

<target name="js.simpletest2">
 <script language="javascript">
   self.log("java script test #2");
 </script>
</target>

<target name="js.default">
 <script language="javascript">
   self.log("do nothing");
 </script>
</target>

<target name="js.timer">
 <script language="javascript">
   self.log(new Date());
 </script>
</target>
	
<target name="js.long.task">
<script language="javascript"><![CDATA[
	for(i=0; i < 10;i++){
	//http://www.jajakarta.org/ant/ant-1.6.1/docs/en/manual/api/org/apache/tools/ant/taskdefs/Sleep.html
	t = project.createTask("sleep");
	t.setSeconds(1);
	t.perform();
	//self.log(i + "s");
	}
]]> 	
</script>
</target>

<target name="js.fails.after.5seconds">
<scriptdef language="javascript" name="myscr"><![CDATA[
    // Exit http://cupi2.uniandes.edu.co/web/manualAnt/manual/api/org/apache/tools/ant/taskdefs/Exit.html
    importClass(org.apache.tools.ant.taskdefs.Exit);

	for(i=0; i < 5;i++){
	//http://www.jajakarta.org/ant/ant-1.6.1/docs/en/manual/api/org/apache/tools/ant/taskdefs/Sleep.html
	t = project.createTask("sleep");
	t.setSeconds(1);
	t.perform();
	}
]]> 	
</scriptdef>
<myscr />
<fail message="failed!" />
</target>

<target name="js.fail">
   <fail message="always fail" />
</target>

</project>